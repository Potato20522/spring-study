参考：https://www.cnblogs.com/ywb-articles/p/10627398.html

# 前言

早些年，用jsp这个模板引擎写前端界面。现如今，jsp早已淘汰，而模板引擎的技术仍然活跃在Java生态。模板引擎不仅仅用来写前端界面，甚至可以用来写一切文本文件，比如Java源码。模板，顾名思义，是将有规律的结构化的文本写成固定的样式，达到复用的目的。广义上看，面向对象中的类也是对象的模板，而模板引擎是针对某种文本的。

我更倾向于将模板引擎应用于生成Java源码、xml之类的配置文件，而不是生成前端html，如果这个模板引擎只能生成html，那么不考虑使用它。

在java领域，模板引擎技术主要有以下几种，
（1）jsp; 

（2）freemarker; 

（3）velocity; 

（4）thymeleaf; 

（5）Mustache；

（6）JFinal Enjoy; 

## JSP

**优点：**
1、功能强大，可以写java代码
2、支持jsp标签（jsp tag）
3、支持表达式语言（el）
4、官方标准，用户群广，丰富的第三方jsp标签库
5、性能良好。jsp编译成class文件执行，有很好的性能表现
**缺点：**

- jsp没有明显缺点，非要挑点骨头那就是，由于可以编写java代码，如使用不当容易破坏mvc结构。
- 还有一点，被淘汰了，是过时的技术，虽然还不错。

## FreeMaker

热门程度：714星 https://github.com/apache/freemarker

FreeMarker是一个用Java语言编写的模板引擎，它基于模板来生成文本输出。FreeMarker与Web容器无关，即在Web运行时，它并不知道Servlet或HTTP。它不仅可以用作表现层的实现技术，而且还可以用于生成XML，JSP或Java 等。

在所有采用网页静态化手段的网站中，FreeMarker使用的比例大大的超过了其他的一些技术。HTML静态化也是某些缓存策略使用的手段，对于系统中频繁使用数据库查询但是内容更新很小的应用，可以使用FreeMarker将HTML静态化。比如一些网站的公用设置信息，这些信息基本都是可以通过后台来管理并存储在数据库中，这些信息其实会大量的被前台程序调用，每一次调用都会去查询一次数据库，但是这些信息的更新频率又会很小，因此也可以考虑将这部分内容进行后台更新的时候进行静态化，这样就避免了大量的数据库访问请求，提高了网站的性能。

(**目前主流的模板引擎之一**)

**优点：**

- 应用在前端：FreeMarker的一个优点在于不能轻易突破模板语言开始编写Java代码，因此降低了领域逻辑漏进视图层的危险几率，也提高了网站的性能。
- 可以指定模板文件后缀名

**缺点：**

需要一点附加配置来将其平稳地集成到应用程序中，一些IDE可能并不完全支持它，当然还有开发者或设计者也许需要学习一门陌生的模板语言。

## Thymeleaf

热门程度：github2.3k星

1.Thymeleaf 在有网络和无网络的环境下皆可运行，即它可以让美工在浏览器查看页面的静态效果，也可以让程序员在服务器查看带数据的动态页面效果。这是由于它支持 html 原型，然后在 html 标签里增加额外的属性来达到模板+数据的展示方式。浏览器解释 html 时会忽略未定义的标签属性，所以 thymeleaf 的模板可以静态地运行；当有数据返回到页面时，Thymeleaf 标签会动态地替换掉静态内容，使页面动态显示。

2.Thymeleaf 开箱即用的特性。它提供标准和spring标准两种方言，可以直接套用模板实现JSTL、 OGNL表达式效果，避免每天套模板、该jstl、改标签的困扰。同时开发人员也可以扩展和创建自定义的方言。

3.Thymeleaf 提供spring标准方言和一个与 SpringMVC 完美集成的可选模块，可以快速的实现表单绑定、属性编辑器、国际化等功能。

**(目前主流的模板引擎之一，Spring Boot推荐)**

**优点**：语法简洁，功能强大。

**缺点**：性能差。

## Velocity

热门程度：github 245星

不仅可以用于界面展示（HTML.xml等）还可以生成输入java代码，SQL语句等文本格式。

**优点**：使用了模板缓冲，在模板缓冲机制的作用下，模板不再是每次出现请求的时候从磁盘读取，而是以最理想的方式在内存中保存和解析。在开发期间，模板缓冲通常处于禁用状态，因为这时请求数量较少，而且要求对页面的修改立即产生效果。开发完毕之后，模板一般不再改变，此时就可以启用模板缓冲功能。因此Velocity执行速度明显优于JSP。　　　　

## JFinal Enjoy

热门程度：gitee 348星，JFinal项目在github上3.1k星

国产框架

Enjoy 是基于 Java 语言的极轻量极模板引擎且不依赖任何第三方。极简设计仅 if、for、switch、set、define、include、render 七个核心指令，让学习成本低到极致。独创 DKFF(Dynamic Key Feature Forward) 词法分析算法与 DLRD (Double Layer Recursive Descent)语法分析算法，避免使用 javacc、antlr、jflex 生成器，令代码量少到极致。

**优点**：

- 功能强大，扩展性强，与Java非常契合，学习成本低，轻量级等。
- 速度极快，是 freemarker 的 4.27 倍，是 velocity 的 3.42

## 性能

JFinal Enjoy是最快的，然后是Velocity，其次是jsp,freemarker性能最差

